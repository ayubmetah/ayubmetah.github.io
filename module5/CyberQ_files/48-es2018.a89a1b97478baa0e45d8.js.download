(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{iId7:function(l,n,u){"use strict";u.r(n);var t=u("8Y7J");class i{}var e=u("pMnS"),o=u("SVse"),a=u("cOZ5"),c=u("miTN"),s=u("BHrj"),r=u("E9u9"),b=u("Gyfo"),d=u("48ii"),m=u("oUVn"),p=u("oJeO");class f{constructor(l,n,u){this.spinner=l,this.dashboardService=n,this.commonService=u,this.notifications=[],this.currentPage=1,this.modules=[{id:1,module_name:"Target"},{id:2,module_name:"Flags"},{id:3,module_name:"Experiece"},{id:4,module_name:"Event"},{id:5,module_name:"User"},{id:6,module_name:"Team"},{id:7,module_name:"Group"},{id:8,module_name:"Organization"},{id:9,module_name:"Role"},{id:10,module_name:"Product Subscription"},{id:11,module_name:"Invitation"}],this.listCount=0,this.canView=!1,this.canAdd=!1,this.canEdit=!1;let t=this.commonService.getUserPermissions().notifications;this.canView=!!t.view_notification,this.canAdd=!!t.add_notification,this.canEdit=!!t.change_notification}ngOnInit(){this.getNotificationsList()}clearAllNotification(){this.dashboardService.notificationAcknowledge("",-1).subscribe(l=>{l.success&&(this.commonService.clearAllNotification.next(!0),this.getNotificationsList())})}getNotificationsList(l=1){this.dashboardService.getNotificationsList(l).subscribe(n=>{this.listCount=n.count,this.spinner.hide(),this.notifications=n.results,this.notifyNumber=this.notifications.length,this.paginationData={total:n.count,pageIndex:l}},l=>{this.spinner.hide()})}getResultsByPage(l){const n=l.currentPage;this.getNotificationsList(n),this.currentPage=n}}var g=u("7g+E"),h=t.Fb({encapsulation:0,styles:[['span[_ngcontent-%COMP%]:before{-webkit-animation:2s linear infinite dots;animation:2s linear infinite dots;content:"";color:#888ea8}@-webkit-keyframes dots{0%,20%{content:"."}40%{content:".."}60%{content:"..."}100%,90%{content:""}}@keyframes dots{0%,20%{content:"."}40%{content:".."}60%{content:"..."}100%,90%{content:""}}h6[_ngcontent-%COMP%]{color:#888ea8}.divContent[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;flex-wrap:wrap;align-content:center;-webkit-box-align:center;align-items:center;background:#1b2e4a;padding:5px;border-radius:5px;color:#888ea8}.card[_ngcontent-%COMP%]{color:#888ea8}']],data:{}});function v(l){return t.dc(0,[(l()(),t.Hb(0,0,null,null,7,"tr",[],null,null,null,null,null)),(l()(),t.Hb(1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.bc(2,null,[" "," "])),(l()(),t.Hb(3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.bc(4,null,["",""])),(l()(),t.Hb(5,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t.bc(6,null,["",""])),t.Xb(7,2)],null,(function(l,n){l(n,2,0,n.component.modules[n.context.$implicit.module_name-1].module_name),l(n,4,0,n.context.$implicit.description);var u=t.cc(n,6,0,l(n,7,0,t.Tb(n.parent.parent.parent,0),n.context.$implicit.send_date,"medium"));l(n,6,0,u)}))}function H(l){return t.dc(0,[(l()(),t.Hb(0,0,null,null,21,"div",[["class","col"]],null,null,null,null,null)),(l()(),t.Hb(1,0,null,null,3,"div",[["class","listcount w-100"],["style","align-items: right;"]],null,null,null,null,null)),(l()(),t.Hb(2,0,null,null,1,"button",[["class","btn btn-danger"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.clearAllNotification()&&t),t}),null,null)),(l()(),t.bc(-1,null,["Clear All"])),(l()(),t.bc(-1,null,[" \xa0 "])),(l()(),t.Hb(5,0,null,null,12,"div",[["class","table-responsive"]],null,null,null,null,null)),(l()(),t.Hb(6,0,null,null,11,"table",[["aria-describedby",""],["class","table tableTheme table-striped"]],null,null,null,null,null)),(l()(),t.Hb(7,0,null,null,7,"thead",[],null,null,null,null,null)),(l()(),t.Hb(8,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),t.Hb(9,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.bc(-1,null,["Module"])),(l()(),t.Hb(11,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.bc(-1,null,["Description"])),(l()(),t.Hb(13,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.bc(-1,null,["Date"])),(l()(),t.Hb(15,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t.wb(16777216,null,null,1,null,v)),t.Gb(17,278528,null,0,o.o,[t.cb,t.X,t.y],{ngForOf:[0,"ngForOf"]},null),(l()(),t.Hb(18,0,null,null,3,"div",[["class","col-12"]],null,null,null,null,null)),(l()(),t.Hb(19,0,null,null,1,"app-paginator",[],null,[[null,"page"]],(function(l,n,u){var t=!0;return"page"===n&&(t=!1!==l.component.getResultsByPage(u)&&t),t}),a.b,a.a)),t.Gb(20,638976,null,0,c.a,[],{paginationData:[0,"paginationData"]},{page:"page"}),(l()(),t.bc(21,null,[" Total: "," "]))],(function(l,n){var u=n.component;l(n,17,0,u.notifications),l(n,20,0,u.paginationData)}),(function(l,n){l(n,21,0,n.component.listCount)}))}function w(l){return t.dc(0,[(l()(),t.Hb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.wb(16777216,null,null,1,null,H)),t.Gb(2,16384,null,0,o.p,[t.cb,t.X],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null)],(function(l,n){var u=n.component;l(n,2,0,u.notifications&&u.notifications.length>0,t.Tb(n.parent,8))}),null)}function _(l){return t.dc(0,[(l()(),t.Hb(0,0,null,null,2,"div",[["class","col"]],null,null,null,null,null)),(l()(),t.Hb(1,0,null,null,1,"app-no-data-found",[],null,null,null,s.b,s.a)),t.Gb(2,114688,null,0,r.a,[],{message:[0,"message"]},null)],(function(l,n){l(n,2,0,"No Notifications Yet")}),null)}function N(l){return t.dc(0,[(l()(),t.Hb(0,0,null,null,2,"div",[["class","col"]],null,null,null,null,null)),(l()(),t.Hb(1,0,null,null,1,"app-no-data-found",[],null,null,null,s.b,s.a)),t.Gb(2,114688,null,0,r.a,[],{message:[0,"message"]},null)],(function(l,n){l(n,2,0,"Not Allowed to View")}),null)}function x(l){return t.dc(0,[t.Vb(0,o.e,[t.A]),(l()(),t.Hb(1,0,null,null,3,"div",[["class","row"],["id","main"]],null,null,null,null,null)),(l()(),t.Hb(2,0,null,null,2,"div",[["class","col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12"]],null,null,null,null,null)),(l()(),t.Hb(3,0,null,null,1,"app-page-heading",[],null,null,null,b.b,b.a)),t.Gb(4,114688,null,0,d.a,[],{title:[0,"title"]},null),(l()(),t.Hb(5,0,null,null,4,"div",[["class","row mt-3"]],null,null,null,null,null)),(l()(),t.wb(16777216,null,null,1,null,w)),t.Gb(7,16384,null,0,o.p,[t.cb,t.X],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),t.wb(0,[["noDataFound",2]],null,0,null,_)),(l()(),t.wb(0,[["notAllowed",2]],null,0,null,N))],(function(l,n){var u=n.component;l(n,4,0,"Notifications"),l(n,7,0,u.canEdit,t.Tb(n,9))}),null)}function R(l){return t.dc(0,[(l()(),t.Hb(0,0,null,null,1,"app-notifications",[],null,null,null,x,h)),t.Gb(1,114688,null,0,f,[g.c,p.a,m.a],null,null)],(function(l,n){l(n,1,0)}),null)}var I=t.Db("app-notifications",f,R,{},{},[]),k=u("s7LF"),y=u("iInd");class E{}var A=u("PCNd");u.d(n,"AllNotificationsModuleNgFactory",(function(){return C}));var C=t.Eb(i,[],(function(l){return t.Qb([t.Rb(512,t.l,t.pb,[[8,[e.a,I]],[3,t.l],t.E]),t.Rb(4608,o.r,o.q,[t.A,[2,o.N]]),t.Rb(4608,k.I,k.I,[]),t.Rb(4608,k.i,k.i,[]),t.Rb(1073742336,o.c,o.c,[]),t.Rb(1073742336,y.s,y.s,[[2,y.x],[2,y.o]]),t.Rb(1073742336,E,E,[]),t.Rb(1073742336,k.H,k.H,[]),t.Rb(1073742336,k.p,k.p,[]),t.Rb(1073742336,k.C,k.C,[]),t.Rb(1073742336,A.a,A.a,[]),t.Rb(1073742336,i,i,[]),t.Rb(1024,y.m,(function(){return[[{path:"",component:f}]]}),[])])}))}}]);