(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"7kyc":function(l,n,e){"use strict";e.d(n,"a",(function(){return i})),e.d(n,"b",(function(){return u})),e.d(n,"c",(function(){return t})),e.d(n,"d",(function(){return s})),e("b0/d"),e("lgaE");const u={module:"group",action:"add_ecgroup",menuName:"group",subMenuName:"group"},t={module:"group",action:"assign_team"},s={module:"group",action:"change_ecgroup",menuName:"group",subMenuName:"group"};class i{}},"b0/d":function(l,n,e){"use strict";e.d(n,"a",(function(){return s}));var u=e("s7LF"),t=e("v1H5");e("oJeO"),e("MmV4"),e("jKJn"),e("oUVn");class s{constructor(l,n,e,u,t,s,i,r,a,o){this.route=l,this.router=n,this.spinner=e,this.formBuilder=u,this.dashboardService=t,this.serverValidationService=s,this.alertService=i,this.commonService=r,this.activeRoute=a,this.recaptchaV3Service=o,this.file={},this.submitted=!1,this.errorDefs={},this.allowedExtensions=["jpg","jpeg","png","gif"],this.fileTypeNotAllowed=!1,this.editForm=!1,this.groupId="",this.isRequestPending=!1,this.loadingTeams=!1,this.users=[],this.loadingUsers=!1,a.queryParams.subscribe(l=>this.queryParams=l)}ngOnInit(){this.errorDefs=this.serverValidationService.getValidationMessagesByKey("groups"),this.createGroupForm=this.formBuilder.group({name:["",[u.G.required,Object(t.a)(),u.G.maxLength(80)]],teams:[[]],group_leader:[null],icon:[null],organization:[null]}),this.route.params.subscribe(l=>{l.id?(this.editForm=!0,this.groupId=l.id,this.fetchGroupDetails(l.id),this.orgId=this.queryParams.orgId,this.createGroupForm.get("icon").setValidators(null)):(this.orgId=this.queryParams.orgId,this.getActiveTeam(),this.getFilteredUsers())})}getFilteredUsers(l=null){this.loadingUsers=!0,this.recaptchaV3Service.execute("importantAction").subscribe(n=>{this.dashboardService.getRoleBasedUsersList(this.orgId,[3],n).subscribe(n=>{if(n.success){if(l&&null==l.group_leader&&(l.group_leader=[]),l){n.data.push(l.group_leader);const e=n.data.find(n=>n.id===l.group_leader.id);this.createGroupForm.patchValue({group_leader:e||[]})}this.users=[...n.data]}this.loadingUsers=!1},l=>{this.loadingUsers=!1})})}fetchGroupDetails(l){this.spinner.show(),this.groupDetails=[],this.dashboardService.listGroups(l).subscribe(l=>{this.groupDetails=l.data,this.updateGroupFormValues(this.groupDetails),this.getFilteredUsers(this.groupDetails),this.getActiveTeam(this.groupDetails.teams),this.uploadedIcon=this.groupDetails.icon,this.spinner.hide()},l=>{this.spinner.hide();const n=this.commonService.getErrorMessage(l);this.commonService.redirectBasedOnPermissions("groups","group","list_group",n)})}updateGroupFormValues(l){this.createGroupForm.patchValue({name:l.name,teams:l.teams,organization:l.organization})}get name(){return this.createGroupForm.get("name")}get icon(){return this.createGroupForm.get("icon")}getActiveTeam(l=null){this.loadingTeams=!0,this.queryParams.orgId||this.groupDetails&&this.groupDetails.organization?this.dashboardService.getOrgTeam(this.queryParams.orgId).subscribe(n=>{const e=n.data;l&&l.length>0&&l.forEach(l=>{e.push(l)}),this.teamList=[...e],this.loadingTeams=!1},l=>{this.loadingTeams=!1}):this.dashboardService.getActiveTeam().subscribe(n=>{const e=n.data;l&&l.length>0&&l.forEach(l=>{e.push(l)}),this.teamList=[...e],this.loadingTeams=!1},l=>{this.loadingTeams=!1})}addGroup(l){console.log(l),this.errorMessage="",this.submitted=!0,this.queryParams.orgId&&(l.organization=this.queryParams.orgId),this.createGroupForm.valid&&this.file&&!1===this.isRequestPending&&(this.isRequestPending=!0,this.spinner.show(),this.editForm?this.dashboardService.updateGroup(this.createFromData(l),this.groupId).subscribe(l=>{this.formSuccess()},l=>{this.formErrors(l)}):this.dashboardService.createGroup(this.createFromData(l)).subscribe(l=>{this.formSuccess()},l=>{this.formErrors(l)}))}formSuccess(){this.router.navigate(["/user-admin"]),this.spinner.hide();let l="Group created successfully.";this.editForm&&(l="Group updated successfully."),this.alertService.showFlashMessage("success",l,""),this.isRequestPending=!1}formErrors(l){const n=this.serverValidationService.addValidationMessages(this.createGroupForm,l,"groups");this.errorMessage=n.message,this.errorDefs=n.errorDefs,this.spinner.hide(),this.isRequestPending=!1}fileUpload(l){this.fileTypeNotAllowed=!1,this.file=l[0],this.file.filename=this.file.name;const n=this.file.filename.split(".").pop();-1===this.allowedExtensions.indexOf(n)&&(this.fileTypeNotAllowed=!0,this.icon.setErrors({extension:!0}))}createFromData(l){const n=new FormData;return n.append("name",l.name),this.file.filename&&n.append("icon",this.file),n.append("teams",l.teams?JSON.stringify(l.teams.map(l=>l.id)):null),n.append("group_leader",l&&l.group_leader&&null!=l.group_leader.id?l.group_leader?l.group_leader.id:null:""),n.append("organization",l.organization),n.append("organization_id",l.organization),n}}},jqYs:function(l,n,e){"use strict";var u=e("8Y7J"),t=e("Gyfo"),s=e("48ii"),i=e("SVse"),r=e("xQke"),a=e("A+tt"),o=e("s7LF"),c=e("LVVf"),d=e("qLmH"),b=e("MJJn"),p=e("wTG2"),g=e("iInd"),m=e("b0/d"),h=e("7g+E"),f=e("oJeO"),v=e("MmV4"),T=e("jKJn"),H=e("oUVn"),y=e("Lyw/");e.d(n,"a",(function(){return O}));var C=u.Fb({encapsulation:0,styles:[[".fileUpload[_ngcontent-%COMP%]{height:auto;text-align:center}input[type=file][_ngcontent-%COMP%]{display:block;overflow:hidden}input[type=file][_ngcontent-%COMP%]::-webkit-file-upload-button{background-color:transparent;color:#677ca3;border-color:transparent;border-radius:5px;border-width:1px;padding-right:5px}"]],data:{}});function _(l){return u.dc(0,[(l()(),u.Hb(0,0,null,null,1,"app-page-heading",[],null,null,null,t.b,t.a)),u.Gb(1,114688,null,0,s.a,[],{title:[0,"title"]},null)],(function(l,n){l(n,1,0,"Create Group")}),null)}function G(l){return u.dc(0,[(l()(),u.Hb(0,0,null,null,1,"app-page-heading",[],null,null,null,t.b,t.a)),u.Gb(1,114688,null,0,s.a,[],{title:[0,"title"]},null)],(function(l,n){l(n,1,0,"Edit Group")}),null)}function L(l){return u.dc(0,[(l()(),u.Hb(0,0,null,null,6,"div",[["class","form-row"]],null,null,null,null,null)),(l()(),u.Hb(1,0,null,null,5,"div",[["class","form-group col-md-6"]],null,null,null,null,null)),(l()(),u.Hb(2,0,null,null,4,"div",[["class","row fullWidthField"]],null,null,null,null,null)),(l()(),u.Hb(3,0,null,null,0,"label",[["class","col-sm-4 col-form-label"]],null,null,null,null,null)),(l()(),u.Hb(4,0,null,null,2,"div",[["class","input-group col-sm-8"]],null,null,null,null,null)),(l()(),u.Hb(5,0,null,null,1,"div",[["class","fileUpload form-control"]],null,null,null,null,null)),(l()(),u.Hb(6,0,null,null,0,"img",[["class","img-responsive"],["style","height:100px;"]],[[8,"src",4]],null,null,null,null))],null,(function(l,n){l(n,6,0,u.Lb(1,"",n.component.uploadedIcon,""))}))}function S(l){return u.dc(0,[(l()(),u.Hb(0,0,null,null,1,"button",[["class","btn btn-primary m-2"],["type","submit"]],null,null,null,null,null)),(l()(),u.bc(-1,null,[" Create Group "]))],null,null)}function x(l){return u.dc(0,[(l()(),u.Hb(0,0,null,null,1,"button",[["class","btn btn-primary m-2"],["type","submit"]],null,null,null,null,null)),(l()(),u.bc(-1,null,[" Update Group "]))],null,null)}function w(l){return u.dc(0,[(l()(),u.Hb(0,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.Hb(1,0,null,null,4,"div",[["class","col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12"]],null,null,null,null,null)),(l()(),u.wb(16777216,null,null,1,null,_)),u.Gb(3,16384,null,0,i.p,[u.cb,u.X],{ngIf:[0,"ngIf"]},null),(l()(),u.wb(16777216,null,null,1,null,G)),u.Gb(5,16384,null,0,i.p,[u.cb,u.X],{ngIf:[0,"ngIf"]},null),(l()(),u.Hb(6,0,null,null,107,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.Hb(7,0,null,null,106,"div",[["class","col"]],null,null,null,null,null)),(l()(),u.Hb(8,0,null,null,105,"div",[["class","card bluePanelHeader"]],null,null,null,null,null)),(l()(),u.Hb(9,0,null,null,3,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),u.Hb(10,0,null,null,2,"div",[["class","pull-left"]],null,null,null,null,null)),(l()(),u.Hb(11,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),u.bc(-1,null,["Group Information"])),(l()(),u.Hb(13,0,null,null,100,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),u.Hb(14,0,null,null,1,"app-form-error-message",[],null,null,null,r.b,r.a)),u.Gb(15,114688,null,0,a.a,[],{errorMessage:[0,"errorMessage"]},null),(l()(),u.Hb(16,0,null,null,97,"form",[["enctype","multipart/form-data"],["id","validate-createGroupForm"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(l,n,e){var t=!0,s=l.component;return"submit"===n&&(t=!1!==u.Tb(l,18).onSubmit(e)&&t),"reset"===n&&(t=!1!==u.Tb(l,18).onReset()&&t),"ngSubmit"===n&&(t=!1!==s.addGroup(s.createGroupForm.value)&&t),t}),null,null)),u.Gb(17,16384,null,0,o.L,[],null,null),u.Gb(18,540672,null,0,o.n,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),u.Yb(2048,null,o.e,null,[o.n]),u.Gb(20,16384,null,0,o.w,[[4,o.e]],null,null),(l()(),u.Hb(21,0,null,null,78,"div",[["class","form-row"]],null,null,null,null,null)),(l()(),u.Hb(22,0,null,null,12,"div",[["class","form-group col-md-6"]],null,null,null,null,null)),(l()(),u.Hb(23,0,null,null,11,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.Hb(24,0,null,null,1,"label",[["class","col-sm-4 col-form-label"]],null,null,null,null,null)),(l()(),u.bc(-1,null,["Name"])),(l()(),u.Hb(26,0,null,null,8,"div",[["class","input-group col-sm-8"]],null,null,null,null,null)),(l()(),u.Hb(27,0,null,null,7,"app-extended-input",[],null,null,null,c.b,c.a)),u.Gb(28,573440,null,0,d.a,[],{labelText:[0,"labelText"],inputErrors:[1,"inputErrors"],errorDefs:[2,"errorDefs"],formSubmitted:[3,"formSubmitted"],formName:[4,"formName"]},null),(l()(),u.Hb(29,0,null,0,5,"input",[["class","form-control"],["formControlName","name"],["id","name"],["placeholder","Name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var t=!0;return"input"===n&&(t=!1!==u.Tb(l,30)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u.Tb(l,30).onTouched()&&t),"compositionstart"===n&&(t=!1!==u.Tb(l,30)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u.Tb(l,30)._compositionEnd(e.target.value)&&t),t}),null,null)),u.Gb(30,16384,null,0,o.f,[u.P,u.n,[2,o.b]],null,null),u.Yb(1024,null,o.t,(function(l){return[l]}),[o.f]),u.Gb(32,671744,null,0,o.l,[[3,o.e],[8,null],[8,null],[6,o.t],[2,o.J]],{name:[0,"name"]},null),u.Yb(2048,null,o.u,null,[o.l]),u.Gb(34,16384,null,0,o.v,[[4,o.u]],null,null),(l()(),u.Hb(35,0,null,null,25,"div",[["class","form-group col-md-6"]],null,null,null,null,null)),(l()(),u.Hb(36,0,null,null,24,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.Hb(37,0,null,null,1,"label",[["class","col-sm-4 col-form-label"]],null,null,null,null,null)),(l()(),u.bc(-1,null,["Group Teams"])),(l()(),u.Hb(39,0,null,null,21,"div",[["class","input-group col-sm-8"]],null,null,null,null,null)),(l()(),u.Hb(40,0,null,null,20,"app-extended-input",[],null,null,null,c.b,c.a)),u.Gb(41,573440,null,0,d.a,[],{labelText:[0,"labelText"],inputErrors:[1,"inputErrors"],errorDefs:[2,"errorDefs"],formSubmitted:[3,"formSubmitted"],formName:[4,"formName"]},null),(l()(),u.Hb(42,0,null,0,18,"ng-select",[["bindLabel","name"],["class","ng-select"],["clearAllText","Clear"],["formControlName","teams"],["placeholder","Select Group Teams"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keydown"]],(function(l,n,e){var t=!0;return"keydown"===n&&(t=!1!==u.Tb(l,44).handleKeyDown(e)&&t),t}),b.c,b.a)),u.Yb(4608,null,p.f,p.f,[]),u.Gb(44,4964352,null,12,p.a,[[8,null],[8,null],p.b,p.d,u.n,u.i,p.k],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],clearAllText:[2,"clearAllText"],loading:[3,"loading"],closeOnSelect:[4,"closeOnSelect"],hideSelected:[5,"hideSelected"],multiple:[6,"multiple"],items:[7,"items"]},null),u.Zb(603979776,1,{optionTemplate:0}),u.Zb(603979776,2,{optgroupTemplate:0}),u.Zb(603979776,3,{labelTemplate:0}),u.Zb(603979776,4,{multiLabelTemplate:0}),u.Zb(603979776,5,{headerTemplate:0}),u.Zb(603979776,6,{footerTemplate:0}),u.Zb(603979776,7,{notFoundTemplate:0}),u.Zb(603979776,8,{typeToSearchTemplate:0}),u.Zb(603979776,9,{loadingTextTemplate:0}),u.Zb(603979776,10,{tagTemplate:0}),u.Zb(603979776,11,{loadingSpinnerTemplate:0}),u.Zb(603979776,12,{ngOptions:1}),u.Yb(1024,null,o.t,(function(l){return[l]}),[p.a]),u.Gb(58,671744,null,0,o.l,[[3,o.e],[8,null],[8,null],[6,o.t],[2,o.J]],{name:[0,"name"]},null),u.Yb(2048,null,o.u,null,[o.l]),u.Gb(60,16384,null,0,o.v,[[4,o.u]],null,null),(l()(),u.Hb(61,0,null,null,25,"div",[["class","form-group col-md-6"]],null,null,null,null,null)),(l()(),u.Hb(62,0,null,null,24,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.Hb(63,0,null,null,1,"label",[["class","col-sm-4 col-form-label"]],null,null,null,null,null)),(l()(),u.bc(-1,null,["Group Leader"])),(l()(),u.Hb(65,0,null,null,21,"div",[["class","input-group col-sm-8"]],null,null,null,null,null)),(l()(),u.Hb(66,0,null,null,20,"app-extended-input",[],null,null,null,c.b,c.a)),u.Gb(67,573440,null,0,d.a,[],{labelText:[0,"labelText"],inputErrors:[1,"inputErrors"],errorDefs:[2,"errorDefs"],formSubmitted:[3,"formSubmitted"],formName:[4,"formName"]},null),(l()(),u.Hb(68,0,null,0,18,"ng-select",[["bindLabel","username"],["class","ng-select"],["formControlName","group_leader"],["placeholder","Select Group leader"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keydown"]],(function(l,n,e){var t=!0;return"keydown"===n&&(t=!1!==u.Tb(l,70).handleKeyDown(e)&&t),t}),b.c,b.a)),u.Yb(4608,null,p.f,p.f,[]),u.Gb(70,4964352,null,12,p.a,[[8,null],[8,null],p.b,p.d,u.n,u.i,p.k],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],loading:[2,"loading"],closeOnSelect:[3,"closeOnSelect"],multiple:[4,"multiple"],items:[5,"items"]},null),u.Zb(603979776,13,{optionTemplate:0}),u.Zb(603979776,14,{optgroupTemplate:0}),u.Zb(603979776,15,{labelTemplate:0}),u.Zb(603979776,16,{multiLabelTemplate:0}),u.Zb(603979776,17,{headerTemplate:0}),u.Zb(603979776,18,{footerTemplate:0}),u.Zb(603979776,19,{notFoundTemplate:0}),u.Zb(603979776,20,{typeToSearchTemplate:0}),u.Zb(603979776,21,{loadingTextTemplate:0}),u.Zb(603979776,22,{tagTemplate:0}),u.Zb(603979776,23,{loadingSpinnerTemplate:0}),u.Zb(603979776,24,{ngOptions:1}),u.Yb(1024,null,o.t,(function(l){return[l]}),[p.a]),u.Gb(84,671744,null,0,o.l,[[3,o.e],[8,null],[8,null],[6,o.t],[2,o.J]],{name:[0,"name"]},null),u.Yb(2048,null,o.u,null,[o.l]),u.Gb(86,16384,null,0,o.v,[[4,o.u]],null,null),(l()(),u.Hb(87,0,null,null,12,"div",[["class","form-group col-md-6"]],null,null,null,null,null)),(l()(),u.Hb(88,0,null,null,11,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.Hb(89,0,null,null,1,"label",[["class","col-sm-4 col-form-label"]],null,null,null,null,null)),(l()(),u.bc(-1,null,["Icon "])),(l()(),u.Hb(91,0,null,null,8,"div",[["class","input-group col-sm-8"]],null,null,null,null,null)),(l()(),u.Hb(92,0,null,null,7,"app-extended-input",[],null,null,null,c.b,c.a)),u.Gb(93,573440,null,0,d.a,[],{labelText:[0,"labelText"],inputErrors:[1,"inputErrors"],errorDefs:[2,"errorDefs"],formSubmitted:[3,"formSubmitted"],formName:[4,"formName"]},null),(l()(),u.Hb(94,0,null,0,5,"input",[["class","form-control"],["formControlName","icon"],["id","icon"],["type","file"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var t=!0,s=l.component;return"input"===n&&(t=!1!==u.Tb(l,95)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u.Tb(l,95).onTouched()&&t),"compositionstart"===n&&(t=!1!==u.Tb(l,95)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u.Tb(l,95)._compositionEnd(e.target.value)&&t),"change"===n&&(t=!1!==s.fileUpload(e.target.files)&&t),t}),null,null)),u.Gb(95,16384,null,0,o.f,[u.P,u.n,[2,o.b]],null,null),u.Yb(1024,null,o.t,(function(l){return[l]}),[o.f]),u.Gb(97,671744,null,0,o.l,[[3,o.e],[8,null],[8,null],[6,o.t],[2,o.J]],{name:[0,"name"]},null),u.Yb(2048,null,o.u,null,[o.l]),u.Gb(99,16384,null,0,o.v,[[4,o.u]],null,null),(l()(),u.wb(16777216,null,null,1,null,L)),u.Gb(101,16384,null,0,i.p,[u.cb,u.X],{ngIf:[0,"ngIf"]},null),(l()(),u.Hb(102,0,null,null,11,"div",[["class","form-row"]],null,null,null,null,null)),(l()(),u.Hb(103,0,null,null,10,"div",[["class","form-group col-md-12"]],null,null,null,null,null)),(l()(),u.Hb(104,0,null,null,9,"div",[["class","row fullWidthField"]],null,null,null,null,null)),(l()(),u.Hb(105,0,null,null,8,"div",[["class","col-sm-12 text-center mt-3"]],null,null,null,null,null)),(l()(),u.wb(16777216,null,null,1,null,S)),u.Gb(107,16384,null,0,i.p,[u.cb,u.X],{ngIf:[0,"ngIf"]},null),(l()(),u.wb(16777216,null,null,1,null,x)),u.Gb(109,16384,null,0,i.p,[u.cb,u.X],{ngIf:[0,"ngIf"]},null),(l()(),u.Hb(110,0,null,null,3,"button",[["class","btn btn-light"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Tb(l,111).onClick()&&t),t}),null,null)),u.Gb(111,16384,null,0,g.p,[g.o,g.a,[8,null],u.P,u.n],{routerLink:[0,"routerLink"]},null),u.Ub(112,1),(l()(),u.bc(-1,null,[" Cancel "]))],(function(l,n){var e=n.component;l(n,3,0,!e.editForm),l(n,5,0,e.editForm),l(n,15,0,e.errorMessage),l(n,18,0,e.createGroupForm),l(n,28,0,"Name",e.createGroupForm.controls.name.errors,e.errorDefs.name,e.submitted,"groups"),l(n,32,0,"name"),l(n,41,0,"Group members",e.createGroupForm.controls.teams.errors,e.errorDefs.teams,e.submitted,"group"),l(n,44,0,"name","Select Group Teams","Clear",e.loadingTeams,!0,!0,!0,e.teamList),l(n,58,0,"teams"),l(n,67,0,"Group Leader",e.createGroupForm.controls.group_leader.errors,e.errorDefs.group_leader,e.submitted,"group"),l(n,70,0,"username","Select Group leader",e.loadingUsers,!0,!1,e.users),l(n,84,0,"group_leader"),l(n,93,0,"Icon",e.createGroupForm.controls.icon.errors,e.errorDefs.icon,e.submitted,"groups"),l(n,97,0,"icon"),l(n,101,0,e.uploadedIcon),l(n,107,0,!e.editForm),l(n,109,0,e.editForm);var u=l(n,112,0,"/user-admin");l(n,111,0,u)}),(function(l,n){l(n,16,0,u.Tb(n,20).ngClassUntouched,u.Tb(n,20).ngClassTouched,u.Tb(n,20).ngClassPristine,u.Tb(n,20).ngClassDirty,u.Tb(n,20).ngClassValid,u.Tb(n,20).ngClassInvalid,u.Tb(n,20).ngClassPending),l(n,29,0,u.Tb(n,34).ngClassUntouched,u.Tb(n,34).ngClassTouched,u.Tb(n,34).ngClassPristine,u.Tb(n,34).ngClassDirty,u.Tb(n,34).ngClassValid,u.Tb(n,34).ngClassInvalid,u.Tb(n,34).ngClassPending),l(n,42,1,[!u.Tb(n,44).multiple,u.Tb(n,44).typeahead,u.Tb(n,44).multiple,u.Tb(n,44).addTag,u.Tb(n,44).searchable,u.Tb(n,44).clearable,u.Tb(n,44).isOpen,u.Tb(n,44).disabled,u.Tb(n,44).filtered,u.Tb(n,60).ngClassUntouched,u.Tb(n,60).ngClassTouched,u.Tb(n,60).ngClassPristine,u.Tb(n,60).ngClassDirty,u.Tb(n,60).ngClassValid,u.Tb(n,60).ngClassInvalid,u.Tb(n,60).ngClassPending]),l(n,68,1,[!u.Tb(n,70).multiple,u.Tb(n,70).typeahead,u.Tb(n,70).multiple,u.Tb(n,70).addTag,u.Tb(n,70).searchable,u.Tb(n,70).clearable,u.Tb(n,70).isOpen,u.Tb(n,70).disabled,u.Tb(n,70).filtered,u.Tb(n,86).ngClassUntouched,u.Tb(n,86).ngClassTouched,u.Tb(n,86).ngClassPristine,u.Tb(n,86).ngClassDirty,u.Tb(n,86).ngClassValid,u.Tb(n,86).ngClassInvalid,u.Tb(n,86).ngClassPending]),l(n,94,0,u.Tb(n,99).ngClassUntouched,u.Tb(n,99).ngClassTouched,u.Tb(n,99).ngClassPristine,u.Tb(n,99).ngClassDirty,u.Tb(n,99).ngClassValid,u.Tb(n,99).ngClassInvalid,u.Tb(n,99).ngClassPending)}))}function P(l){return u.dc(0,[(l()(),u.Hb(0,0,null,null,1,"app-create-group",[],null,null,null,w,C)),u.Gb(1,114688,null,0,m.a,[g.a,g.o,h.c,o.i,f.a,v.a,T.a,H.a,g.a,y.e],null,null)],(function(l,n){l(n,1,0)}),null)}var O=u.Db("app-create-group",m.a,P,{},{},[])},lgaE:function(l,n,e){"use strict";e.d(n,"a",(function(){return u})),e("oJeO");class u{constructor(l){this.dashboardService=l}ngOnInit(){this.dashboardService.getActiveTeam().subscribe(l=>{this.leftList=l}),this.dashboardService.getAssigned().subscribe(l=>{this.rightList=l})}}},xdr4:function(l,n,e){"use strict";var u=e("8Y7J"),t=e("SVse");class s{constructor(l=[]){this.selected=[],this.base=[...l]}selectNone(){this.selected=[]}isSelectedNone(){return 0==this.selected.length}selectAll(){this.selected=[...this.base]}isSelectedAll(){return this.selected.length==this.base.length&&this.selected.every(l=>this.base.find(n=>l==n))}}class i{constructor(){this.display="name",this.leftTitle="Active Teams",this.rightTitle="Assigned Teams",this.updateLists=new u.p}set leftList(l){this._leftList=new s(l)}set rightList(l){this._rightList=new s(l)}isSelected(l,n){return Boolean(l.filter(l=>Object.is(l,n)).length)}selectItem(l,n){const e=l.filter(l=>Object.is(l,n));e.length?e.forEach(n=>{const e=l.indexOf(n);e+1&&l.splice(e,1)}):l.push(n)}moveSelectedItems(l,n){l.base=l.base.filter(n=>!(l.selected.indexOf(n)+1)),n.base=n.base.concat(l.selected),l.selectNone(),this.updateLists.next({leftList:this._leftList.base,rightList:this._rightList.base})}ngOnInit(){}getTeams(){}}var r=u.Fb({encapsulation:0,styles:[[".btn-primary[_ngcontent-%COMP%]{background-color:rgba(0,117,192,.2);border:none;color:#000}.dual-list[_ngcontent-%COMP%]{display:-webkit-box;display:flex;flex-wrap:wrap;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}.dual-list[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{width:40%;border:1px solid #ddd;border-radius:4px}.dual-list[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .panel-heading[_ngcontent-%COMP%]{border-top-left-radius:4px;border-top-right-radius:4px;display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-pack:justify;justify-content:space-between;align-self:center;-webkit-box-align:center;align-items:center;font-weight:700;background:#c7e2f4;padding-left:15px}.dual-list[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto;position:relative;max-height:265px;min-height:265px}.dual-list[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:0;border-bottom-right-radius:0}.dual-list[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer}.dual-list[_ngcontent-%COMP%]   .btn-group-vertical[_ngcontent-%COMP%]{padding:0 25px}.dual-list[_ngcontent-%COMP%]   .btn-group-vertical[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]{margin-bottom:15px}"]],data:{}});function a(l){return u.dc(0,[(l()(),u.Hb(0,0,null,null,5,"li",[["class","list-group-item"]],null,[[null,"click"]],(function(l,n,e){var u=!0,t=l.component;return"click"===n&&(u=!1!==t.selectItem(t._leftList.selected,l.context.$implicit)&&u),u}),null,null)),u.Yb(512,null,t.I,t.J,[u.y,u.z,u.n,u.P]),u.Gb(2,278528,null,0,t.n,[t.I],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u.Wb(3,{active:0}),(l()(),u.Hb(4,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.bc(5,null,["",""]))],(function(l,n){var e=n.component,u=l(n,3,0,e.isSelected(e._leftList.selected,n.context.$implicit));l(n,2,0,"list-group-item",u)}),(function(l,n){l(n,5,0,n.context.$implicit[n.component.display])}))}function o(l){return u.dc(0,[(l()(),u.Hb(0,0,null,null,5,"li",[["class","list-group-item"]],null,[[null,"click"]],(function(l,n,e){var u=!0,t=l.component;return"click"===n&&(u=!1!==t.selectItem(t._rightList.selected,l.context.$implicit)&&u),u}),null,null)),u.Yb(512,null,t.I,t.J,[u.y,u.z,u.n,u.P]),u.Gb(2,278528,null,0,t.n,[t.I],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u.Wb(3,{active:0}),(l()(),u.Hb(4,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.bc(5,null,["",""]))],(function(l,n){var e=n.component,u=l(n,3,0,e.isSelected(e._rightList.selected,n.context.$implicit));l(n,2,0,"list-group-item",u)}),(function(l,n){l(n,5,0,n.context.$implicit[n.component.display])}))}function c(l){return u.dc(0,[(l()(),u.Hb(0,0,null,null,29,"div",[["class","dual-list"]],null,null,null,null,null)),(l()(),u.Hb(1,0,null,null,11,"div",[["class","list panel panel-default pull-left"]],null,null,null,null,null)),(l()(),u.Hb(2,0,null,null,7,"div",[["class","panel-heading"]],null,null,null,null,null)),(l()(),u.Hb(3,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),u.bc(4,null,["",""])),(l()(),u.Hb(5,0,null,null,4,"div",[["class","btn-group"]],null,null,null,null,null)),(l()(),u.Hb(6,0,null,null,1,"button",[["class","btn btn-primary"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component._leftList.selectAll()&&u),u}),null,null)),(l()(),u.bc(-1,null,["Setect All"])),(l()(),u.Hb(8,0,null,null,1,"button",[["class","btn btn-primary"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component._leftList.selectNone()&&u),u}),null,null)),(l()(),u.bc(-1,null,["Reset"])),(l()(),u.Hb(10,0,null,null,2,"ul",[["class","list-group"]],null,null,null,null,null)),(l()(),u.wb(16777216,null,null,1,null,a)),u.Gb(12,278528,null,0,t.o,[u.cb,u.X,u.y],{ngForOf:[0,"ngForOf"]},null),(l()(),u.Hb(13,0,null,null,4,"div",[["class","btn-group-vertical"]],null,null,null,null,null)),(l()(),u.Hb(14,0,null,null,1,"button",[["class","btn btn-primary add"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0,t=l.component;return"click"===n&&(u=!1!==t.moveSelectedItems(t._leftList,t._rightList)&&u),u}),null,null)),(l()(),u.Hb(15,0,null,null,0,"i",[["class","fas fa-angle-double-right"]],null,null,null,null,null)),(l()(),u.Hb(16,0,null,null,1,"button",[["class","btn btn-primary remove"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0,t=l.component;return"click"===n&&(u=!1!==t.moveSelectedItems(t._rightList,t._leftList)&&u),u}),null,null)),(l()(),u.Hb(17,0,null,null,0,"i",[["class","fas fa-angle-double-left"]],null,null,null,null,null)),(l()(),u.Hb(18,0,null,null,11,"div",[["class","list panel panel-default pull-left"]],null,null,null,null,null)),(l()(),u.Hb(19,0,null,null,7,"div",[["class","panel-heading"]],null,null,null,null,null)),(l()(),u.Hb(20,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),u.bc(21,null,["",""])),(l()(),u.Hb(22,0,null,null,4,"div",[["class","btn-group"]],null,null,null,null,null)),(l()(),u.Hb(23,0,null,null,1,"button",[["class","btn btn-primary"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component._rightList.selectAll()&&u),u}),null,null)),(l()(),u.bc(-1,null,["Select All"])),(l()(),u.Hb(25,0,null,null,1,"button",[["class","btn btn-primary"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component._rightList.selectNone()&&u),u}),null,null)),(l()(),u.bc(-1,null,["Reset"])),(l()(),u.Hb(27,0,null,null,2,"ul",[["class","list-group"]],null,null,null,null,null)),(l()(),u.wb(16777216,null,null,1,null,o)),u.Gb(29,278528,null,0,t.o,[u.cb,u.X,u.y],{ngForOf:[0,"ngForOf"]},null),(l()(),u.Hb(30,0,null,null,5,"div",[["class","row mt-3"]],null,null,null,null,null)),(l()(),u.Hb(31,0,null,null,4,"div",[["class","col text-center"]],null,null,null,null,null)),(l()(),u.Hb(32,0,null,null,1,"button",[["class","btn btn-primary m-2"],["type","submit"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.getTeams()&&u),u}),null,null)),(l()(),u.bc(-1,null,["Update"])),(l()(),u.Hb(34,0,null,null,1,"button",[["class","btn"],["type","button"]],null,null,null,null,null)),(l()(),u.bc(-1,null,["Cancel"]))],(function(l,n){var e=n.component;l(n,12,0,e._leftList.base),l(n,29,0,e._rightList.base)}),(function(l,n){var e=n.component;l(n,4,0,e.leftTitle),l(n,6,0,e._leftList.isSelectedAll()),l(n,8,0,e._leftList.isSelectedNone()),l(n,14,0,!e._leftList.selected.length),l(n,16,0,!e._rightList.selected.length),l(n,21,0,e.rightTitle),l(n,23,0,e._rightList.isSelectedAll()),l(n,25,0,e._rightList.isSelectedNone())}))}var d=e("lgaE"),b=e("oJeO");e.d(n,"a",(function(){return h}));var p=u.Fb({encapsulation:0,styles:[[""]],data:{}});function g(l){return u.dc(0,[(l()(),u.Hb(0,0,null,null,4,"div",[["class","row"],["id","main"]],null,null,null,null,null)),(l()(),u.Hb(1,0,null,null,3,"div",[["class","col-sm-12 col-md-12"]],null,null,null,null,null)),(l()(),u.Hb(2,0,null,null,2,"h3",[["class","pageheading"]],null,null,null,null,null)),(l()(),u.Hb(3,0,null,null,0,"img",[["alt",""],["src","assets/img/create-user-icon.png"]],null,null,null,null,null)),(l()(),u.bc(-1,null,[" Assign Team"])),(l()(),u.Hb(5,0,null,null,9,"div",[["class","row mt-3"]],null,null,null,null,null)),(l()(),u.Hb(6,0,null,null,8,"div",[["class","col"]],null,null,null,null,null)),(l()(),u.Hb(7,0,null,null,7,"div",[["class","card bluePanelHeader"]],null,null,null,null,null)),(l()(),u.Hb(8,0,null,null,3,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),u.Hb(9,0,null,null,2,"div",[["class","pull-left"]],null,null,null,null,null)),(l()(),u.Hb(10,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),u.bc(-1,null,["Add/Remove Teams To Group"])),(l()(),u.Hb(12,0,null,null,2,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),u.Hb(13,0,null,null,1,"app-duallist",[],null,[[null,"updateLists"]],(function(l,n,e){var u=!0,t=l.component;return"updateLists"===n&&(t.leftList=e.leftList,u=!1!==(t.rightList=e.rightList)&&u),u}),c,r)),u.Gb(14,114688,null,0,i,[],{leftList:[0,"leftList"],rightList:[1,"rightList"]},{updateLists:"updateLists"})],(function(l,n){var e=n.component;l(n,14,0,e.leftList,e.rightList)}),null)}function m(l){return u.dc(0,[(l()(),u.Hb(0,0,null,null,1,"app-assign-team",[],null,null,null,g,p)),u.Gb(1,114688,null,0,d.a,[b.a],null,null)],(function(l,n){l(n,1,0)}),null)}var h=u.Db("app-assign-team",d.a,m,{},{},[])},zOVB:function(l,n,e){"use strict";e.d(n,"a",(function(){return u}));class u{}}}]);